<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>The Fix - EBB SB2209 (CAN) RP2040 cooling</title>


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" id="highlight-css" href="highlight.css">
        <link rel="stylesheet" id="tomorrow-night-css" href="tomorrow-night.css">
        <link rel="stylesheet" id="ayu-highlight-css" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">EBB SB2209 (CAN) RP2040 cooling</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="the-fix"><a class="header" href="#the-fix">The fix</a></h1>
<p>The solution is to improve the cooling of the EBB SB2209 CAN (RP2040)
board.</p>
<p>The changes described below fixed my extrusion problem completely.
The SB2209 temperature sensor now stays below 63 °C (approximately ~15
°C less than without the fix).</p>
<h2 id="heatsink"><a class="header" href="#heatsink">Heatsink</a></h2>
<p>Make sure there's a heatsink on the SB2209 as shown
on page 9 of <a href="https://github.com/bigtreetech/EBB/blob/master/EBB%20SB2209%20CAN%20(RP2040)/Build%20Guide/EBB%20SB2209%20CAN%20V1.0%EF%BC%88RP2040%EF%BC%89Build%20Guide_20240626.pdf">EBB SB2209 CAN V1.0（RP2040）Build
Guide_20240626.pdf</a>.</p>
<p><img src="./images/heatsink.png" alt="" /></p>
<h2 id="better-stealthburner-cable-door-cover"><a class="header" href="#better-stealthburner-cable-door-cover">Better Stealthburner cable door cover</a></h2>
<p>Replace the Stealthburner "cable door cover" with an alternate part that
has a fan mount and better ventilation.</p>
<p>I was using the stock Voron-Stealthburner
<a href="https://github.com/VoronDesign/Voron-Stealthburner/blob/main/STLs/Clockwork2/cable_door_for_pcb.stl">cable_door_for_pcb.stl</a>
part, and I switched to a part called "Voron Stealthburner
EBB SB2209/2240 fan cover" by Sven Kah, available here:
<a href="https://www.printables.com/model/986553-voron-stealthburner-ebb-sb22092240-fan-cover">https://www.printables.com/model/986553-voron-stealthburner-ebb-sb22092240-fan-cover</a></p>
<p>This cable door cover has holes for ventilation, and has a mount for a
30xx fan for forced air.</p>
<p>You may have to make a small clearance cut (e.g. with a rotary tool like
a Dremel) to make room to install the SB2209 with the new fan connector
pluggeed in.</p>
<p><img src="./images/clearance-cut.jpg" alt="" /></p>
<p>I know that some folks use alternate Stealthburner parts promoted by
BigTreeTech, if so you may have to find or design a different cable
door cover to fit your toolhead.  If you do, please open a PR to this
repo with the details.</p>
<h2 id="fan"><a class="header" href="#fan">Fan</a></h2>
<p>I'm using the 3010 24V Honeybadger axial fan from Fabreeko ($8):
<a href="https://www.fabreeko.com/products/3010-performance-axial-fan">https://www.fabreeko.com/products/3010-performance-axial-fan</a></p>
<p>Any 30xx fan should work, just make sure you match the fan to the voltage
available on the EBB SB2209 CAN (RP2040), which can be configured for 5V,
12V, or the board's supply voltage, 24V in my case.</p>
<p>The fan mounts pretty cleanly to the cable door cover, just threading
the screws into the plastic.  I used four M3x16 BHCS.</p>
<p>Other fans that people have recommended (i have no personal experience with these):</p>
<ul>
<li>Delta</li>
<li>GDSTime</li>
<li>NMB</li>
<li>Noctua</li>
<li>Orion</li>
<li>Sunon</li>
</ul>
<h2 id="wiring"><a class="header" href="#wiring">Wiring</a></h2>
<p>Useful documents from BigTreeTech (thanks!) here:
<a href="https://github.com/bigtreetech/EBB/">https://github.com/bigtreetech/EBB/</a></p>
<p>Specifically look at the drawings in <code>EBB SB2209 CAN (RP2040)/Hardware</code>.</p>
<p><img src="./images/circuit.png" alt="" />
<img src="./images/SB2209-connector-and-jumpers.png" alt="" />
<img src="./images/connector.jpg" alt="" /></p>
<p>We'll use the "IND or FAN" connector on the SB2209 (RP2040).  It's a
"PH2.0 3-pin" connector.</p>
<p>Add a jumper to P2 to set <code>V_4WFAN</code> to VIN (24V).</p>
<p>Add a jumper to pins 1 and 2 of P6 to select <code>FAN</code> mode (not <code>IND</code>).</p>
<p>We'll put a new connector on the existing fan wires, to connect to the
fan header on the SB2209 board.  The correct mating connector and crimp
pins came with the SB2209.  Cut the connector off the fan, leaving long
enough wires.  Strip the wire ends, crimp on the pins, and insert them
in the connector (this part is a bit fiddly).  The fan +24 wire will
connect to P5 pin 3 (+24V), and the fan GND pin will connect to P5 pin 1
(a MOSFET controlled by GPIO6 that connects to ground).</p>
<p>You may need to make a small cut on the inside of the CW2 <code>main_body.stl</code>
part to make room for the fan connector.</p>
<h2 id="klipper-config"><a class="header" href="#klipper-config">Klipper config</a></h2>
<pre><code>[temperature_sensor sb2209_board_thermistor]
sensor_type: Generic 3950
sensor_pin: sb2209:gpio28

[temperature_sensor sb2209_mcu]
sensor_type: temperature_mcu
sensor_mcu: sb2209

[temperature_fan toolhead_fan]
pin: sb2209:gpio6
sensor_type: temperature_combined
sensor_list: temperature_sensor sb2209_mcu, temperature_sensor sb2209_board_thermistor
combination_method: max
maximum_deviation: 999.9
min_temp: 0
max_temp: 85
target_temp: 40
control: pid
pid_kp = 2
pid_ki = 5
pid_kd = 0.5
pid_deriv_time = 2.0
kick_start_time: 1.0
max_speed: 1.0
min_speed: 0.0
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="problem.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="problem.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->


    </div>
    </body>
</html>
